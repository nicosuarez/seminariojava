<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="infoCompany" extends="struts-default">
		<!--<result-types>
			<result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>-->
		<global-results>
			<result name="error">/pages/error.jsp</result>
		</global-results>
		
		<global-exception-mappings>
			<exception-mapping exception="java.lang.Exception"
				result="error" />
		</global-exception-mappings>
		
		<action name="simpleechoAction" method="simpleecho" class="springCompanyAction">
			<result  name="SUCCESS">/pages/userCreateForm.jsp</result>
			<result name="input">/pages/userCreateForm.jsp</result>
		</action>
		
		<action name="UserAction" class="ar.com.infocompany.presentation.UserAction">
			<result name="input">/pages/userCreateForm.jsp</result>
			<result type="redirectAction">UserCreateForm</result>
			<result name="SUCCESS">/pages/index.jsp</result>
			<result name="INPUT">/pages/userCreateForm.jsp</result>
		</action>
	</package>
	
	<package name="infoCompanyPublic" namespace="/pages" extends="struts-default">
		<!--<result-types>
			<result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>
		<global-results>
			<result name="error">/pages/error.jsp</result>
		</global-results>
		
		<global-exception-mappings>
			<exception-mapping exception="java.lang.Exception"
				result="error" />
		</global-exception-mappings>-->
		
		<action name="LoginForm">
			<result>/pages/login.jsp</result>
		</action>
		
		<action name="UserCreateForm">
			<result>/pages/userCreateForm.jsp</result>
		</action>
		
		<action name="Home">
			<result>/pages/testAjaxJQuery.jsp</result>
		</action>
		
		<action name="LoginAction" class="springLoginAction">
			<result type="redirect">
				/pages/secure/getAllCompanies.action
			</result>
			<result name="input">/pages/login.jsp</result>
		</action>
		
		<!--<action name="userRegisterAction" method="createUser" class="springUserRegisterAction">
			<result type="redirectAction">UserCreateForm</result>
			<result name="SUCCESS">/pages/userCreateForm.jsp</result>
			<result name="error">/pages/userCreateForm.jsp</result>
		</action>-->
		<action name="UserAction" class="ar.com.infocompany.presentation.UserAction">
			<result name="input">/pages/userCreateForm.jsp</result>
			<result type="redirectAction">UserCreateForm</result>
			<result name="SUCCESS">/pages/index.jsp</result>
			<result name="INPUT">/pages/userCreateForm.jsp</result>
		</action>
		
		<action name="setUpForInsertOrUpdateUser" method="setUpForInsertOrUpdateUser" class="springUserRegisterAction">
			<result type="redirectAction">UserCreateForm</result>
		</action>
	
		<action name="TestAjaxAction" method="TestAjax" class="springCompanyAction">
				<result name="SUCCESS">/pages/test1.jsp</result>
		</action>
		
		<action name="SearchCompanyAction" class="ar.com.infocompany.presentation.SearchCommpanyAction">
				<result name="SUCCESS">/pages/test1.jsp</result>
		</action>
		
		
	
	</package>
	
	<package name="infoCompanySecure" namespace="/pages/secure" extends="struts-default">
		<!--<result-types>
			<result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>-->
		<interceptors>

			<interceptor name="authenticationInterceptor"
				class="ar.com.infocompany.utils.AuthenticationInterceptor" />

			<interceptor-stack name="secureStack">
				<interceptor-ref name="authenticationInterceptor" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>

		</interceptors>

		<default-interceptor-ref name="secureStack" />

		<global-results>
			<result name="login" type="redirect">
				/pages/LoginForm.action
			</result>
			<result name="error">/pages/error.jsp</result>
		</global-results>

		<global-exception-mappings>
			<exception-mapping exception="java.lang.Exception"
				result="error" />
		</global-exception-mappings>
		
		<action name="getAllCompanies" method="getAllCompanies" class="springCompanyAction">
			<result name="success">/pages/companies.jsp</result>
		</action>
		
		<action name="setUpForInsertOrUpdateCompany" method="setUpForInsertOrUpdateCompany" class="springCompanyAction">
			<result name="success">/pages/companyForm.jsp</result>
		</action>
		
		<action name="insertOrUpdateCompany" method="insertOrUpdateCompany" class="springCompanyAction">
			<result name="input">/pages/companyForm.jsp</result>
			<result name="success">/pages/companyForm.jsp</result>
		</action>
		
		<action name="deleteCompany" method="deleteCompany" class="springCompanyAction">
			<result name="success" type="redirectAction">getAllCompanies</result>
		</action>
		
	</package>
	
	
</struts>


